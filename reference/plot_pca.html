<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Draws a scores or loadings plot or performs calculations necessary to draw them manually — plot_pca • metamorphr</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Draws a scores or loadings plot or performs calculations necessary to draw them manually — plot_pca"><meta name="description" content="Performs PCA and creates a Scores or Loadings plot. Basically a wrapper around pcaMethods::pca
The plot is drawn with ggplot2 and can therefore be easily manipulated afterwards (e.g., changing the theme or the axis labels).
Please note that the function is intended to be easy to use and beginner friendly and therefore offers limited ability to fine-tune certain parameters of the resulting plot.
If you wish to draw the plot yourself, you can set return_tbl = TRUE. In this case, a tibble is returned instead of a ggplot2 object which you can use to create a plot yourself.
Important Note
plot_pca() depends on the pcaMethods package from Bioconductor. If metamorphr was installed via install.packages(), dependencies from Bioconductor were not
automatically installed. When plot_pca() is called without the pcaMethods package installed, you should be asked if you want to install pak and pcaMethods.
If you want to use plot_pca() you have to install those. In case you run into trouble with the automatic installation, please install pcaMethods manually. See
pcaMethods – a Bioconductor package providing PCA methods for incomplete data for instructions on manual installation."><meta property="og:description" content="Performs PCA and creates a Scores or Loadings plot. Basically a wrapper around pcaMethods::pca
The plot is drawn with ggplot2 and can therefore be easily manipulated afterwards (e.g., changing the theme or the axis labels).
Please note that the function is intended to be easy to use and beginner friendly and therefore offers limited ability to fine-tune certain parameters of the resulting plot.
If you wish to draw the plot yourself, you can set return_tbl = TRUE. In this case, a tibble is returned instead of a ggplot2 object which you can use to create a plot yourself.
Important Note
plot_pca() depends on the pcaMethods package from Bioconductor. If metamorphr was installed via install.packages(), dependencies from Bioconductor were not
automatically installed. When plot_pca() is called without the pcaMethods package installed, you should be asked if you want to install pak and pcaMethods.
If you want to use plot_pca() you have to install those. In case you run into trouble with the automatic installation, please install pcaMethods manually. See
pcaMethods – a Bioconductor package providing PCA methods for incomplete data for instructions on manual installation."><meta property="og:image" content="https://yasche.github.io/metamorphr/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">metamorphr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/metamorphr.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><a class="dropdown-item" href="../articles/conjugate-screening.html">Conjugate Screening</a></li>
  </ul></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/yasche/metamorphr/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Draws a scores or loadings plot or performs calculations necessary to draw them manually</h1>
      <small class="dont-index">Source: <a href="https://github.com/yasche/metamorphr/blob/master/R/plot.R" class="external-link"><code>R/plot.R</code></a></small>
      <div class="d-none name"><code>plot_pca.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Performs PCA and creates a Scores or Loadings plot. Basically a wrapper around <code>pcaMethods::</code><code><a href="https://rdrr.io/pkg/pcaMethods/man/pca.html" class="external-link">pca</a></code>
The plot is drawn with <a href="https://ggplot2.tidyverse.org/" class="external-link">ggplot2</a> and can therefore be easily manipulated afterwards (e.g., changing the theme or the axis labels).
Please note that the function is intended to be easy to use and beginner friendly and therefore offers limited ability to fine-tune certain parameters of the resulting plot.
If you wish to draw the plot yourself, you can set <code>return_tbl = TRUE</code>. In this case, a tibble is returned instead of a ggplot2 object which you can use to create a plot yourself.</p>
<p><strong>Important Note</strong></p>
<p><code>plot_pca()</code> depends on the <code>pcaMethods</code> package from Bioconductor. If <code>metamorphr</code> was installed via <code><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages()</a></code>, dependencies from Bioconductor were not
automatically installed. When <code>plot_pca()</code> is called without the <code>pcaMethods</code> package installed, you should be asked if you want to install <code>pak</code> and <code>pcaMethods</code>.
If you want to use <code>plot_pca()</code> you have to install those. In case you run into trouble with the automatic installation, please install <code>pcaMethods</code> manually. See
<a href="https://www.bioconductor.org/packages/release/bioc/html/pcaMethods.html" class="external-link">pcaMethods – a Bioconductor package providing PCA methods for incomplete data</a> for instructions on manual installation.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plot_pca</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"svd"</span>,</span>
<span>  what <span class="op">=</span> <span class="st">"scores"</span>,</span>
<span>  n_pcs <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  pcs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>,</span>
<span>  center <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  group_column <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  name_column <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  return_tbl <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">FALSE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>A tidy tibble created by <code><a href="read_featuretable.html">read_featuretable</a></code>.</p></dd>


<dt id="arg-method">method<a class="anchor" aria-label="anchor" href="#arg-method"></a></dt>
<dd><p>A character specifying one of the available methods ("svd", "nipals", "rnipals", "bpca", "ppca", "svdImpute", "robustPca", "nlpca", "llsImpute", "llsImputeAll"). If the default is used ("svd") an SVD PCA will be done, in case <code>data</code> does not contain missing values, or a NIPALS PCA if <code>data</code> does contain missing values.</p></dd>


<dt id="arg-what">what<a class="anchor" aria-label="anchor" href="#arg-what"></a></dt>
<dd><p>Specifies what should be returned. Either <code>"scores"</code> or <code>"loadings"</code>.</p></dd>


<dt id="arg-n-pcs">n_pcs<a class="anchor" aria-label="anchor" href="#arg-n-pcs"></a></dt>
<dd><p>The number of PCs to calculate.</p></dd>


<dt id="arg-pcs">pcs<a class="anchor" aria-label="anchor" href="#arg-pcs"></a></dt>
<dd><p>A vector containing 2 integers that specifies the PCs to plot. Only relevant if <code>return_tbl = FALSE</code>. The following condition applies: <code>max(pcs) &lt;= n_pcs</code>.</p></dd>


<dt id="arg-center">center<a class="anchor" aria-label="anchor" href="#arg-center"></a></dt>
<dd><p>Should <code>data</code> be mean centered? See <code><a href="https://rdrr.io/pkg/pcaMethods/man/prep.html" class="external-link">prep</a></code> for details.</p></dd>


<dt id="arg-group-column">group_column<a class="anchor" aria-label="anchor" href="#arg-group-column"></a></dt>
<dd><p>Either <code>NULL</code> or a column in <code>data</code> (e.g., <code>group_column = Group</code>). If provided, the dots in the scores plot will be colored according to their group. Only relevant if <code>what = "scores"</code>.</p></dd>


<dt id="arg-name-column">name_column<a class="anchor" aria-label="anchor" href="#arg-name-column"></a></dt>
<dd><p>Either <code>NULL</code> or a column in <code>data</code> (e.g., <code>name_column = Feature</code>). If provided, feature names are preserved in the resulting tibble. Only relevant if <code>what = "loadings"</code> &amp; <code>return_tbl = TRUE</code>.</p></dd>


<dt id="arg-return-tbl">return_tbl<a class="anchor" aria-label="anchor" href="#arg-return-tbl"></a></dt>
<dd><p>A logical. If <code>FALSE</code>, returns a ggplot2 object, if <code>TRUE</code> returns a tibble which can be used to draw the plot manually to have more control.</p></dd>


<dt id="arg-verbose">verbose<a class="anchor" aria-label="anchor" href="#arg-verbose"></a></dt>
<dd><p>Should outputs from <code><a href="https://rdrr.io/pkg/pcaMethods/man/pca.html" class="external-link">pca</a></code> be printed to the console?</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>Either a Scores or Loadings Plot in the form of a ggplot2 object or a tibble.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co"># Draw a Scores Plot</span></span></span>
<span class="r-in"><span><span class="va">toy_metaboscape</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="impute_lod.html">impute_lod</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="join_metadata.html">join_metadata</a></span><span class="op">(</span><span class="va">toy_metaboscape_metadata</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">plot_pca</span><span class="op">(</span>what <span class="op">=</span> <span class="st">"scores"</span>, group_column <span class="op">=</span> <span class="va">Group</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_pca-1.png" alt="" width="700" height="433"></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Draw a Loadings Plot</span></span></span>
<span class="r-in"><span><span class="va">toy_metaboscape</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="impute_lod.html">impute_lod</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="join_metadata.html">join_metadata</a></span><span class="op">(</span><span class="va">toy_metaboscape_metadata</span><span class="op">)</span> <span class="op"><a href="pipe.html">%&gt;%</a></span></span></span>
<span class="r-in"><span>  <span class="fu">plot_pca</span><span class="op">(</span>what <span class="op">=</span> <span class="st">"loadings"</span>, name_column <span class="op">=</span> <span class="va">Feature</span><span class="op">)</span></span></span>
<span class="r-plt img"><img src="plot_pca-2.png" alt="" width="700" height="433"></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Yannik Schermer.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer></div>





  </body></html>

